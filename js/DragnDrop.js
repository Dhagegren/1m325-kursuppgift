void 0==window.se&&(window.se={});void 0==window.se.lnu&&(window.se.lnu={});void 0==window.se.lnu.drag&&(window.se.lnu.drag={});se.lnu.drag=function(){return{id:"se.lnu.drag",name:"Drag-n-Drop",version:"0.0.0",event:{},geom:{},object:{},scope:{},system:{}}}();se.lnu.drag.event.Event={addEventListener:function(e,d,f){void 0!=e&&(e.addEventListener?e.addEventListener(d,f,!1):e.attachEvent?e.attachEvent("on"+d,f):e["on"+d]=f)},removeEventListener:function(e,d,f){void 0!=e&&(e.removeEventListener?e.removeEventListener(d,f,!1):e.detachEvent?e.detachEvent("on"+d,f):e["on"+d]=null)}};se.lnu.drag.geom.Point=function(d,c){this.x=d||0;this.y=c||0};se.lnu.drag.object.Draggable=function(d,c){this.active=!1;this.m_element=d||null;this.m_hotspot=c||this.m_element;this.m_origin=new se.lnu.drag.geom.Point;this.m_offset=new se.lnu.drag.geom.Point;this.onDrag=function(b){this.m_element.style.opacity=0.8;this.m_element.style.zIndex=Math.floor((new Date).getTime()/1000);this.m_element.style.cursor="move"};this.onMove=function(f,e){};this.onDrop=function(b){this.m_element.style.opacity=1;this.m_element.style.cursor="auto"};this.m_init()};se.lnu.drag.object.Draggable.prototype.dispose=function(){if(void 0!=this.m_hotspot){var b=this.m_hotspot.cloneNode(!0);this.m_hotspot.parentNode.replaceChild(b,this.m_hotspot)}};se.lnu.drag.object.Draggable.prototype.setPosition=function(b){if(null!=this.m_element&&(this.m_element.style.left=this.m_offset.x+b.x-this.m_origin.x+"px",this.m_element.style.top=this.m_offset.y+b.y-this.m_origin.y+"px","function"==typeof this.onMove)){this.onMove(this)}};se.lnu.drag.object.Draggable.prototype.m_init=function(){this.m_initEvent()};se.lnu.drag.object.Draggable.prototype.m_initEvent=function(){var b=this;se.lnu.drag.event.Event.addEventListener(this.m_hotspot,"mousedown",function(a){b.m_onMouseDown(a)});se.lnu.drag.event.Event.addEventListener(this.m_hotspot,"mouseup",function(a){b.m_onMouseUp(a)})};se.lnu.drag.object.Draggable.prototype.m_onMouseDown=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;this.active=!0;this.m_origin.x=b.clientX;this.m_origin.y=b.clientY;this.m_offset.x=parseInt(this.m_element.style.left)||0;this.m_offset.y=parseInt(this.m_element.style.top)||0;if("function"==typeof this.onDrag){this.onDrag(b)}};se.lnu.drag.object.Draggable.prototype.m_onMouseUp=function(b){b.preventDefault?b.preventDefault():b.returnValue=!1;this.active=!1;if("function"==typeof this.onDrop){this.onDrop(b)}};se.lnu.drag.system.Main=function(){this.position=new se.lnu.drag.geom.Point;this.m_elements=[];this.m_initPosition()};se.lnu.drag.system.Main.prototype.add=function(e,d){var f=new se.lnu.drag.object.Draggable(e,d);this.m_elements.push(f);return f};se.lnu.drag.system.Main.prototype.remove=function(e,d){d=d||e;if(void 0!=e){for(var f=0;f<this.m_elements.length;f++){if(this.m_elements[f].m_element==e&&this.m_elements[f].m_hotspot==d){return this.m_elements[f].dispose(),this.m_elements.splice(f,1),!0}}}return !1};se.lnu.drag.system.Main.prototype.removeAll=function(){for(;0<this.m_elements.length;){this.m_elements[0].dispose(),this.m_elements.splice(0,1)}};se.lnu.drag.system.Main.prototype.m_init=function(){this.m_initPosition()};se.lnu.drag.system.Main.prototype.m_initPosition=function(){var b=this;se.lnu.drag.event.Event.addEventListener(document,"mousemove",function(a){b.m_updatePosition(a)})};se.lnu.drag.system.Main.prototype.m_updatePosition=function(d){if(void 0!=d){for(this.position.x=d.clientX,this.position.y=d.clientY,d=0;d<this.m_elements.length;d++){var c=this.m_elements[d];!0===c.active&&c.setPosition(this.position)}}};se.lnu.drag.scope.Alias=function(){window.DragnDrop=se.lnu.drag.system.Main;void 0!==window.VPJsOOP&&window.VPJsOOP.add(window.se.lnu.drag,["DragnDrop","se"],["event","geom","object","scope","system"],["Manifest"]);return{}}();